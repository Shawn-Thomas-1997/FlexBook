<div class="homepage-container">
<div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(https://res.cloudinary.com/dcy2dfahw/image/upload/v1695299257/sven-mieke-jO6vBWX9h9Y-unsplash_uipepe.jpg);">
</div>
  <h1 class="homepage-heading">FlexBook</h1>
  <p class="homepage-paragraph">Your number one fitness service provider</p>

<div class="row justify-content-center">
  <div class="col-sm-8 my-3">
    <%= form_with url: root_path, method: :get, class: "d-flex", id: "search-form", data: { controller: "search", action: "submit->search#clearSearch" } do %>
      <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          placeholder: "Type a keyword"
          %>
      <%= submit_tag "Search", name: "", class: "btn btn-outline-light" %>
    <% end %>
  </div>
</div>

  <div class="listings-row">
    <% @listings.each do |listing| %>
      <%= link_to listing_path(listing) do %>
        <div class="listing">
          <% user = User.find(listing.user_id) %>
          <h4 class="listing-heading"><%= @fullname = user.fullname.titleize %></h4>
          <br>
          <div class="listing-sub-heading"><strong><%= listing.category %></strong></div>
          <br>
          <div class="listing-paragraph"><strong><%= listing.details %></strong></div>
          <br>
          <div class="listing-paragraph"><strong><%= listing.location %></strong></div>
        </div>
      <% end %>
    <% end %>
  </div>

  <div style="width: 80%; height: 300px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>
